<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body { margin: 0; background: #000; overflow: hidden; display: flex; justify-content: center; align-items: center; height: 100vh; }
        canvas { position: absolute; top: 0; left: 0; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');

        let width = canvas.width = window.innerWidth;
        let height = canvas.height = window.innerHeight;

        // --- CẤU HÌNH NỀN CHẤM CHẤM (MÀU SẮC LUNG LINH) ---
        const bgParticles = [];
        const bgCount = 180; 
        const colors = ['#88FFFF', '#FF88FF', '#FFFF88', '#88FF88', '#FFFFFF'];

        class BgParticle {
            constructor() {
                this.init();
            }
            init() {
                this.x = Math.random() * width;
                this.y = Math.random() * height;
                this.size = Math.random() * 2;
                this.color = colors[Math.floor(Math.random() * colors.length)];
                this.vx = (Math.random() - 0.5) * 0.6;
                this.vy = (Math.random() - 0.5) * 0.6;
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if (this.x < 0 || this.x > width) this.vx *= -1;
                if (this.y < 0 || this.y > height) this.vy *= -1;
            }
            draw() {
                ctx.shadowBlur = 8;
                ctx.shadowColor = this.color;
                ctx.fillStyle = this.color;
                ctx.globalAlpha = 0.5;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // --- CẤU HÌNH VIỀN TRÁI TIM SIÊU ĐẬM ---
        const heartParticles = [];
        const heartCount = 1500; // Tăng lượng hạt lên cực cao để viền siêu dày

        function getHeartPoint(t) {
            let x = 16 * Math.pow(Math.sin(t), 3);
            let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            return { x: x * 19, y: y * 19 }; // Độ phóng đại trái tim
        }

        class HeartParticle {
            constructor() {
                this.t = Math.random() * Math.PI * 2;
                this.pos = getHeartPoint(this.t);
                this.x = width/2 + this.pos.x;
                this.y = height/2 + this.pos.y;
                this.size = Math.random() * 3.5 + 1; // Hạt to hơn
                this.alpha = Math.random();
                this.speed = 0.03 + Math.random() * 0.02;
            }
            update() {
                this.alpha += this.speed;
                if (this.alpha > 1 || this.alpha < 0.3) this.speed *= -1;
                // Rung lắc nhẹ tạo cảm giác trái tim đang đập
                this.x += (Math.random() - 0.5) * 0.4;
                this.y += (Math.random() - 0.5) * 0.4;
            }
            draw() {
                ctx.shadowBlur = 20; // Đổ bóng rực rỡ
                ctx.shadowColor = '#ff2d95';
                ctx.fillStyle = '#ff2d95';
                ctx.globalAlpha = this.alpha;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        // Khởi tạo
        for(let i=0; i<bgCount; i++) bgParticles.push(new BgParticle());
        for(let i=0; i<heartCount; i++) heartParticles.push(new HeartParticle());

        function animate() {
            ctx.globalAlpha = 1;
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)'; // Tạo đuôi mờ cho hạt di chuyển
            ctx.fillRect(0, 0, width, height);

            bgParticles.forEach(p => { p.update(); p.draw(); });
            heartParticles.forEach(p => { p.update(); p.draw(); });

            requestAnimationFrame(animate);
        }

        animate();

        window.onresize = () => {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
        };
    </script>
</body>
</html>
